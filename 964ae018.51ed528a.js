(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{108:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return a})),n.d(t,"rightToc",(function(){return r})),n.d(t,"default",(function(){return d}));var c=n(1),o=(n(0),n(118));const i={id:"api-reference",title:"API Reference",sidebar_label:"API Reference"},a={id:"api-reference",title:"API Reference",description:"## Main API",source:"@site/docs/api-reference.md",permalink:"/docs/api-reference",editUrl:"https://github.com/hmil/ng-vacuum/edit/master/docs/docs/api-reference.md",sidebar_label:"API Reference",sidebar:"someSidebar",previous:{title:"Using Injection Tokens",permalink:"/docs/injection-tokens"}},r=[{value:"Main API",id:"main-api",children:[{value:"<code>getService&lt;T&gt;(token: Type&lt;T&gt;): T</code>",id:"getservicettoken-typet-t",children:[]},{value:"<code>getMock&lt;T&gt;(token: InjectionToken&lt;T&gt;): Mock&lt;T&gt;</code>",id:"getmockttoken-injectiontokent-mockt",children:[]},{value:"<code>renderComponent&lt;T&gt;(component: Type&lt;T&gt;, module: TODO): TODO</code>",id:"rendercomponenttcomponent-typet-module-todo-todo",children:[]}]},{value:"Advanced API",id:"advanced-api",children:[{value:"<code>createMock&lt;T&gt;(token: InjectionToken&lt;T&gt;, backing?: Partial&lt;T&gt;): Mock&lt;T&gt;</code>",id:"createmockttoken-injectiontokent-backing-partialt-mockt",children:[]},{value:"<code>getShallow&lt;T&gt;(component: Type&lt;T&gt;, module: TODO): TODO</code>",id:"getshallowtcomponent-typet-module-todo-todo",children:[]},{value:"<code>configureTestbed(service: Type&lt;T&gt;)</code>",id:"configuretestbedservice-typet",children:[]}]}],l={rightToc:r};function d({components:e,...t}){return Object(o.b)("wrapper",Object(c.a)({},l,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"main-api"},"Main API"),Object(o.b)("h3",{id:"getservicettoken-typet-t"},Object(o.b)("inlineCode",{parentName:"h3"},"getService<T>(token: Type<T>): T")),Object(o.b)("p",null,"Instantiate a service by providing mocks for all of its dependencies."),Object(o.b)("p",null,"A mock is automatically created for all dependencies of the service which are not mocked yet."),Object(o.b)("p",null,"Example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-ts"}),"describe('MyService', () => {\n    let myService: MyService;\n\n    beforeEach(() => {\n        myService = getService(MyService);\n    });\n});\n")),Object(o.b)("h3",{id:"getmockttoken-injectiontokent-mockt"},Object(o.b)("inlineCode",{parentName:"h3"},"getMock<T>(token: InjectionToken<T>): Mock<T>")),Object(o.b)("p",null,"Returns the mock associated with this injection token. If no such mock exists yet, it is created."),Object(o.b)("p",null,"This function can be called before or after ",Object(o.b)("inlineCode",{parentName:"p"},"getService"),". Either way, only one mock is created for each injection token."),Object(o.b)("p",null,"Calling ",Object(o.b)("inlineCode",{parentName:"p"},"getMock")," multiple times in a single test with the same injection token always returns the same object instance."),Object(o.b)("p",null,"Example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-ts"}),"const dependencyService = getMock(MyServiceDependency);\nwhen(dependencyService.greet('John')).return('Hello John').once();\n")),Object(o.b)("h3",{id:"rendercomponenttcomponent-typet-module-todo-todo"},Object(o.b)("inlineCode",{parentName:"h3"},"renderComponent<T>(component: Type<T>, module: TODO): TODO")),Object(o.b)("p",null,"Shallow-renders a component, meaning that its children components are not rendered themselves, and any constructor dependency is mocked."),Object(o.b)("p",null,"TODO example"),Object(o.b)("h2",{id:"advanced-api"},"Advanced API"),Object(o.b)("h3",{id:"createmockttoken-injectiontokent-backing-partialt-mockt"},Object(o.b)("inlineCode",{parentName:"h3"},"createMock<T>(token: InjectionToken<T>, backing?: Partial<T>): Mock<T>")),Object(o.b)("p",null,"Manually create a mock with an optional backing object."),Object(o.b)("p",null,"This function must be called before ",Object(o.b)("inlineCode",{parentName:"p"},"getService"),", ",Object(o.b)("inlineCode",{parentName:"p"},"getShallow")," or ",Object(o.b)("inlineCode",{parentName:"p"},"renderComponent"),"."),Object(o.b)("p",null,"Any subsequent call to ",Object(o.b)("inlineCode",{parentName:"p"},"getMock")," with the same injection token will return the same mock that was created with ",Object(o.b)("inlineCode",{parentName:"p"},"createMock"),"."),Object(o.b)("p",null,"TODO: example"),Object(o.b)("h3",{id:"getshallowtcomponent-typet-module-todo-todo"},Object(o.b)("inlineCode",{parentName:"h3"},"getShallow<T>(component: Type<T>, module: TODO): TODO")),Object(o.b)("p",null,"Configures and return a Shallow renderer (TODO link)."),Object(o.b)("p",null,"Use this method if you would like to further customize the renderer. In most cases, ",Object(o.b)("inlineCode",{parentName:"p"},"renderComponent")," should be used instead."),Object(o.b)("p",null,"TODO example"),Object(o.b)("h3",{id:"configuretestbedservice-typet"},Object(o.b)("inlineCode",{parentName:"h3"},"configureTestbed(service: Type<T>)")),Object(o.b)("p",null,"Configures the angular TestBed with mocks for all of the dependencies of the service."),Object(o.b)("p",null,"Only use this if you would like to customize the dependencies before creating a service. In general, you should use ",Object(o.b)("inlineCode",{parentName:"p"},"getService")," instead. "),Object(o.b)("p",null,"Example:"),Object(o.b)("pre",null,Object(o.b)("code",Object(c.a)({parentName:"pre"},{className:"language-ts"}),"configureTestBed(MyService);\nTestBed.overrideProvider(MyDependency, { useValue: fakeDependency });\nconst service = TestBed.inject(MyService);\n")))}d.isMDXComponent=!0}}]);